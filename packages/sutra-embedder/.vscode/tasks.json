{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Build (Release)",
            "type": "shell",
            "command": "cargo",
            "args": [
                "build",
                "--release"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Build (Debug)",
            "type": "shell",
            "command": "cargo",
            "args": [
                "build"
            ],
            "group": "build",
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run Tests",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test"
            ],
            "group": {
                "kind": "test",
                "isDefault": true
            },
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run Benchmarks",
            "type": "shell",
            "command": "cargo",
            "args": [
                "bench"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Check Hardware",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "hardware"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "List Models",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "models",
                "--verbose"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Download All Models",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "download",
                "--model",
                "all"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [],
            "isBackground": true
        },
        {
            "label": "Generate Embeddings (768D)",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "embed",
                "--text",
                "Multi-dimensional embedding models for production use",
                "--dimensions",
                "768"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Generate Embeddings (Efficient 384D)",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "embed",
                "--text",
                "Efficient embedding models for resource-constrained environments",
                "--dimensions",
                "384"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Compute Model Hashes",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "hash"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Run Benchmark Suite",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "benchmark",
                "--profile",
                "auto",
                "--iterations",
                "100"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Run Benchmark Suite (Clean Output)",
            "type": "shell",
            "command": "./benchmark-clean.sh",
            "args": [
                "--profile",
                "auto",
                "--iterations",
                "100"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Quick Benchmark (Clean, 10 iterations)",
            "type": "shell",
            "command": "./benchmark-clean.sh",
            "args": [
                "--profile",
                "auto",
                "--iterations",
                "10"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Comprehensive Benchmark (All Dimensions)",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "comprehensive-benchmark"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Comprehensive Benchmark (Quick Test)",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "comprehensive-benchmark",
                "-d",
                "256,384,768",
                "-i",
                "20"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Comprehensive Benchmark Examples",
            "type": "shell",
            "command": "./run-comprehensive-benchmarks.sh",
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Clean",
            "type": "shell",
            "command": "cargo",
            "args": [
                "clean"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Format Code",
            "type": "shell",
            "command": "cargo",
            "args": [
                "fmt"
            ],
            "presentation": {
                "reveal": "silent",
                "panel": "shared"
            },
            "problemMatcher": []
        },
        {
            "label": "Clippy (Lint)",
            "type": "shell",
            "command": "cargo",
            "args": [
                "clippy",
                "--",
                "-D",
                "warnings"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run with Debug Logs",
            "type": "shell",
            "command": "RUST_LOG=debug ./target/release/sutra-embedder",
            "args": [
                "embed",
                "--text",
                "test"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Verify All Model Hashes",
            "type": "shell",
            "command": "bash",
            "args": [
                "-c",
                "for model in all-MiniLM-L6-v2 bge-base-en-v1.5 all-mpnet-base-v2 bge-large-en-v1.5 e5-base-v2 multilingual-e5-base; do echo \"=== $model ===\"; ./target/release/sutra-embedder hash --model $model 2>&1 | grep -E \"✅|❌\"; done"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Show Models Directory",
            "type": "shell",
            "command": "ls",
            "args": [
                "-lh",
                "models/"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Check Models Storage Size",
            "type": "shell",
            "command": "du",
            "args": [
                "-sh",
                "models/"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Download Individual Model",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "download",
                "--model",
                "${input:modelName}"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Test Batch Processing",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "embed_batch",
                "--release",
                "--",
                "--nocapture"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Test SIMD Optimizations",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "simd",
                "--release",
                "--",
                "--nocapture"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Benchmark Batch Processing",
            "type": "shell",
            "command": "cargo",
            "args": [
                "bench",
                "batch_processing"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "View Optimization Docs",
            "type": "shell",
            "command": "cat",
            "args": [
                "docs/features/OPTIMIZATIONS.md"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "View Performance Summary",
            "type": "shell",
            "command": "cat",
            "args": [
                "PERFORMANCE_SUMMARY.md"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Check GPU Detection",
            "type": "shell",
            "command": "./target/release/sutra-embedder",
            "args": [
                "hardware"
            ],
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Test Advanced Features",
            "type": "shell",
            "command": "./test-advanced-features.sh",
            "dependsOn": [
                "Build (Release)"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Run Flash Attention Example",
            "type": "shell",
            "command": "cargo",
            "args": [
                "run",
                "--release",
                "--example",
                "advanced_features",
                "--",
                "flash-attention"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run Model Distillation Example",
            "type": "shell",
            "command": "cargo",
            "args": [
                "run",
                "--release",
                "--example",
                "advanced_features",
                "--",
                "distillation"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run Multi-GPU Example",
            "type": "shell",
            "command": "cargo",
            "args": [
                "run",
                "--release",
                "--example",
                "advanced_features",
                "--",
                "multi-gpu"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run Streaming Example",
            "type": "shell",
            "command": "cargo",
            "args": [
                "run",
                "--release",
                "--example",
                "advanced_features",
                "--",
                "streaming"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Run All Advanced Examples",
            "type": "shell",
            "command": "cargo",
            "args": [
                "run",
                "--release",
                "--example",
                "advanced_features"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Test Flash Attention",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "--lib",
                "flash_attention",
                "--",
                "--nocapture"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Test Model Distillation",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "--lib",
                "distillation",
                "--",
                "--nocapture"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Test Multi-GPU",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "--lib",
                "multi_gpu",
                "--",
                "--nocapture"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "Test Streaming",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "--lib",
                "streaming",
                "--",
                "--nocapture"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        },
        {
            "label": "View Advanced Features Docs",
            "type": "shell",
            "command": "cat",
            "args": [
                "docs/features/ADVANCED_FEATURES.md"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "View Quick Reference",
            "type": "shell",
            "command": "cat",
            "args": [
                "QUICK_REFERENCE.md"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": []
        },
        {
            "label": "Quick Test Suite (Advanced Features)",
            "type": "shell",
            "command": "cargo",
            "args": [
                "test",
                "--lib",
                "--",
                "--test-threads=1"
            ],
            "presentation": {
                "reveal": "always",
                "panel": "new"
            },
            "problemMatcher": [
                "$rustc"
            ]
        }
    ],
    "inputs": [
        {
            "id": "modelName",
            "type": "pickString",
            "description": "Select model to download",
            "options": [
                "all-MiniLM-L6-v2",
                "bge-base-en-v1.5",
                "all-mpnet-base-v2",
                "bge-large-en-v1.5",
                "e5-base-v2",
                "multilingual-e5-base",
                "all"
            ],
            "default": "bge-base-en-v1.5"
        }
    ]
}